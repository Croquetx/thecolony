#include "SoundHelper.h"	// ABD-ICE-SOUND#include "SimpleSound.h"long lastSound;/*------------------------------------------------------------*/long PlaySoundResID(short resID){long refnum;	OSErr err = SHPlayByID(resID, &refnum);	// ABD-ICE-SOUND	lastSound=refnum;	return refnum;}/*------------------------------------------------------------*/void StopSound(long refNum){	OSErr err = SHPlayStop(refNum);	// ABD-ICE-SOUND}/*------------------------------------------------------------*/int SoundDone(){	int val=SHPlayStatus(lastSound);	if(val==shpError)val = shpFinished;	return val == shpFinished;}/*------------------------------------------------------------*/long LoopSoundResID(short resID){Handle		sound;SndChannelPtr channel;SndCommand cmd;long refnum;OSErr err;		// = SHPlayByID(256, nil);	// ABD-ICE-SOUND	SHPlayByHandle(nil, &refnum);	err = SHGetChannel(refnum, &channel);	sound = GetResource('snd ', resID);	HNoPurge(sound);	HLock(sound);	err = SndPlay(channel, (SndListHandle)sound, true);	cmd.param1 = 0;	cmd.cmd = freqCmd;	cmd.param2 = kMiddleC;	SndDoImmediate(channel,&cmd);	// ignore error	return refnum;}/*------------------------------------------------------------*/void StopLoopedSound(long refNum){SndChannelPtr channel;SndCommand cmd;OSErr err;	err = SHGetChannel(refNum, &channel);	cmd.param1 = 0;	cmd.cmd = quietCmd;	cmd.param2 = 0;	SndDoImmediate(channel,&cmd);	// ignore error}/*------------------------------------------------------------*/void SetLoopedVolume(long refNum, UInt8 volume){SndChannelPtr channel;SndCommand cmd;OSErr err;	err = SHGetChannel(refNum, &channel);	cmd.param1 = volume;	cmd.cmd = ampCmd;	cmd.param2 = 0;	SndDoImmediate(channel,&cmd);	// ignore error}