/*----------------------------------*
 * The Colony
 * Copyright 1988 by David A. Smith
 * All Rights Reserved
 * David A. Smith
 * 111 Gold Meadow Dr.
 * Cary, NC 27513
 * (919) 469-8485
 *----------------------------------*/
/*----------------------------------------------------------------------
 *	chars.c
 *----------------------------------------------------------------------
 *	
 * drawchar(cnum,ldata,rdata)
 * 		char cnum;
 *		int ldata[2],rdata[2];
 *
 *	Contains a function that draws characters on the walls and the data
 *	structure that defines these characters.
 * 	The structure of a character is as follows:
 *	wallchar[chnum][0]=number of polygons that make up this character.
 *	wallchar[chnum][1]=len1 = length of first polygon
 *	wallchar[chnum][2]=x index 0
 *	wallchar[chnum][3]=y index 0
 *	wallchar[chnum][4]=x index 1
 *	wallchar[chnum][5]=y index 1
 *	....
 *	wallchar[chnum][2+len1*2]=x index len
 *	wallchar[chnum][2+len1*2+1]=y index len
 *	wallchar[chnum][2+len1*2+2]=len2=length of second polygon
 *	....
 *---------------------------------------------------------------------- 
 */
#define EXT extern
#include "cgamedefs.h"
#include "colordef.h"
/*-----------------------------------------------------------------------*/
/*-----------------------------------------------------------------------*/
char *wallchar[]={
/*0x20 = blank*/
	"\00",
/*0x21 = '!'*/
	"\02\10\02\00\03\00\03\01\02\01\10\02\02\03\02\03\06\02\06",
/*0x22 = '"'*/
	"\02\10\01\04\02\04\02\05\01\05\10\03\04\04\04\04\05\03\05",
/*0x23 = '#'*/
	"\04\10\01\00\02\00\02\05\01\05\10\03\00\04\00\04\05\03\05\10\00\01\05\01\05\02\00\02\10\00\03\05\03\05\04\00\04",
/*0x24 = '$'*/
	"\02\10\02\00\03\00\03\06\02\06\050\00\02\00\01\01\00\04\00\05\01\05\02\01\04\01\05\04\05\04\04\05\04\05\05\04\06\01\06\00\05\00\04\04\02\04\01\01\01\01\02",
/*0x25 = '%'*/
	"\03\10\01\00\06\05\05\06\00\01\032\01\03\02\03\03\04\03\05\02\06\01\06\00\05\00\04\01\03\01\05\02\05\02\04\01\04\032\04\00\05\00\06\01\06\02\05\03\04\03\03\02\03\01\04\00\04\02\05\02\05\01\04\01",
/*0x26 = '&'*/
	"\03\10\05\01\05\02\03\04\02\04\014\02\04\01\05\02\06\01\06\00\05\01\04\032\05\04\03\01\01\01\01\03\03\05\02\06\01\06\02\05\00\03\00\01\01\00\03\00\05\03",
/*0x27 = '''*/
	"\01\10\02\04\03\05\03\06\02\06",
/*0x28 = '('*/
	"\01\014\04\00\03\02\03\04\04\06\02\04\02\02",
/*0x29 = ')'*/
	"\01\014\02\00\04\02\04\04\02\06\03\04\03\02",
/*0x2A = '*'*/
	"\06\06\01\00\03\03\00\02\06\02\00\04\00\03\03\06\05\00\06\02\03\03\06\06\04\05\06\03\03\06\02\06\04\06\03\03\06\00\04\01\06\03\03",
/*0x2B = '+'*/
	"\02\10\02\00\03\00\03\05\02\05\10\00\02\05\02\05\03\00\03",
/*0x2C = '\0'*/
	"\01\10\02\00\03\01\03\02\02\02",
/*0x2D = '-'*/
	"\01\10\00\02\05\02\05\03\00\03",
/*0x2E = '.'*/
	"\01\10\02\00\03\00\03\01\02\01",
/*0x2F = '/'*/
	"\01\10\01\00\06\05\05\06\00\01",
/*0x30 = '0'*/
	"\02\032\01\00\05\00\06\01\06\05\05\06\01\06\00\05\00\01\01\00\01\05\05\05\05\01\01\01\10\01\01\02\01\05\05\04\05",
/*0x31 = '1'*/
	"\01\026\01\00\04\00\04\01\03\01\03\06\02\06\01\05\01\04\02\04\02\01\01\01",
/*0x32 = '2'*/
	"\01\042\06\00\06\01\02\01\05\02\06\03\06\05\05\06\01\06\00\05\00\04\01\04\01\05\05\05\05\04\01\02\00\01\00\00",
/*0x33 = '3'*/
	"\01\054\00\02\00\01\01\00\05\00\06\01\06\02\05\03\06\04\06\05\05\06\01\06\00\05\00\04\01\04\01\05\05\05\05\04\04\03\05\02\05\01\01\01\01\02",
/*0x34 = '4'*/
	"\01\036\04\00\05\00\05\02\06\02\06\03\05\03\05\06\04\06\04\03\01\03\02\06\01\06\00\03\00\02\04\02",
/*0x35 = '5'*/
	"\01\044\00\02\00\01\01\00\05\00\06\01\06\03\05\04\01\04\02\05\06\05\06\06\01\06\00\04\00\03\05\03\05\01\01\01\01\02",
/*0x36 = '6'*/
	"\01\046\01\02\05\02\05\01\01\01\01\05\05\05\05\04\06\04\06\05\05\06\01\06\00\05\00\01\01\00\05\00\06\01\06\02\05\03\01\03",
/*0x37 = '7'*/
	"\01\020\02\00\03\00\03\03\06\06\00\06\00\05\04\05\02\03",
/*0x38 = '8'*/
	"\02\040\03\00\03\01\01\01\01\02\04\03\01\04\01\05\03\05\03\06\01\06\00\05\00\04\01\03\00\02\00\01\01\00\040\03\00\05\00\06\01\06\02\05\03\06\04\06\05\05\06\03\06\03\05\05\05\05\04\02\03\05\02\05\01\03\01",
/*0x39 = '9'*/
	"\01\046\00\02\00\01\01\00\05\00\06\01\06\05\05\06\01\06\00\05\00\04\01\03\05\03\05\04\01\04\01\05\05\05\05\01\01\01\01\02",
/*0x3A = ':'*/
	"\02\10\02\01\03\01\03\02\02\02\10\02\03\03\03\03\04\02\04",
/*0x3B = ';'*/
	"\02\10\02\00\03\01\03\02\02\02\10\02\03\03\03\03\04\02\04",
/*0x3C = '<'*/
	"\01\014\06\00\06\01\02\03\06\05\06\06\00\03",
/*0x3D = '='*/
	"\02\10\00\01\05\01\05\02\00\02\10\00\03\05\03\05\04\00\04",
/*0x3E = '>'*/
	"\01\014\00\00\06\03\00\06\00\05\04\03\00\01",
/*0x3F = '?'*/
	"\02\10\02\00\03\00\03\01\02\01\030\02\02\03\02\05\04\05\05\04\06\01\06\00\05\00\04\01\04\01\05\04\05\04\04",
/*0x40 = '@'*/
	"\05\012\04\00\01\01\00\04\00\01\01\00\012\02\00\05\00\06\01\06\04\05\01\012\06\02\06\05\05\06\02\06\05\05\012\04\06\01\06\00\05\00\02\01\05\034\05\01\05\02\03\05\02\05\01\04\01\02\02\01\03\01\05\04\05\05\03\02\02\02\02\04\03\04",
/*0x41 = 'A'*/
	"\01\034\03\06\04\06\06\00\05\00\04\02\02\02\01\00\00\00\02\06\03\06\03\05\02\03\04\03\03\05",
/*0x42 = 'B'*/
	"\01\050\00\00\00\06\05\06\06\05\06\04\05\03\06\02\06\01\05\00\01\00\01\01\05\01\05\02\04\03\01\03\01\04\05\04\05\05\01\05\01\00",
/*0x43 = 'C'*/
	"\01\040\06\02\06\01\05\00\01\00\00\01\00\05\01\06\05\06\06\05\06\04\05\04\05\05\01\05\01\01\05\01\05\02",
/*0x44 = 'D'*/
	"\01\034\00\00\00\06\04\06\06\04\06\02\04\00\01\00\01\01\04\01\05\02\05\04\04\05\01\05\01\00",
/*0x45 = 'E'*/
	"\01\030\00\00\00\06\06\06\06\05\01\05\01\04\04\04\04\03\01\03\01\01\06\01\06\00",
/*0x46 = 'F'*/
	"\01\024\00\00\00\06\06\06\06\05\01\05\01\03\04\03\04\02\01\02\01\00",
/*0x47 = 'G'*/
	"\01\044\03\03\06\03\06\01\05\00\01\00\00\01\00\05\01\06\05\06\06\05\06\04\05\04\05\05\01\05\01\01\05\01\05\02\03\02",
/*0x48 = 'H'*/
	"\01\030\00\00\00\06\01\06\01\04\05\04\05\06\06\06\06\00\05\00\05\03\01\03\01\00",
/*0x49 = 'I'*/
	"\01\030\01\00\01\01\02\01\02\05\01\05\01\06\04\06\04\05\03\05\03\01\04\01\04\00",
/*0x4A = 'J'*/
	"\01\034\00\02\00\01\01\00\04\00\05\01\05\05\06\05\06\06\03\06\03\05\04\05\04\01\01\01\01\02",
/*0x4B = 'K'*/
	"\01\026\00\00\00\06\01\06\01\04\04\06\06\06\02\03\06\00\04\00\01\02\01\00",
/*0x4C = 'L'*/
	"\01\014\00\06\00\00\06\00\06\01\01\01\01\06",
/*0x4D = 'M'*/
	"\01\030\00\00\00\06\01\06\03\04\05\06\06\06\06\00\05\00\05\04\03\03\01\04\01\00",
/*0x4E = 'N'*/
	"\01\024\00\00\00\06\02\06\05\01\05\06\06\06\06\00\04\00\01\05\01\00",
/*0x4F = 'O'*/
	"\01\032\00\01\00\05\01\06\05\06\06\05\06\01\05\00\01\00\00\01\05\01\05\05\01\05\01\01",
/*0x50 = 'P'*/
	"\01\030\00\00\00\06\05\06\06\05\06\03\05\02\01\02\01\03\05\03\05\05\01\05\01\00",
/*0x51 = 'Q'*/
	"\02\036\04\00\01\00\00\01\00\05\01\06\05\06\06\05\06\02\04\00\04\02\05\02\05\05\01\05\01\01\04\01\014\06\00\06\01\05\02\04\02\04\01\05\00",
/*0x52 = 'R'*/
	"\01\036\00\00\00\06\05\06\06\05\06\03\05\02\06\00\05\00\04\02\01\02\01\03\05\03\05\05\01\05\01\00",
/*0x53 = 'S'*/
	"\01\054\00\02\00\01\01\00\05\00\06\01\06\02\05\03\01\04\01\05\05\05\05\04\06\04\06\05\05\06\01\06\00\05\00\04\01\03\05\02\05\01\01\01\01\02",
/*0x54 = 'T'*/
	"\01\020\02\00\02\05\00\05\00\06\05\06\05\05\03\05\03\00",
/*0x55 = 'U'*/
	"\01\024\00\06\00\01\01\00\05\00\06\01\06\06\05\06\05\01\01\01\01\06",
/*0x56 = 'V'*/
	"\01\016\00\06\02\00\04\00\06\06\05\06\03\01\01\06",
/*0x57 = 'W'*/
	"\01\030\00\06\01\00\02\00\03\02\04\00\05\00\06\06\05\06\04\02\03\04\02\02\01\06",
/*0x58 = 'X'*/
	"\01\030\00\00\02\03\00\06\01\06\03\04\05\06\06\06\04\03\06\00\05\00\03\02\01\00",
/*0x59 = 'Y'*/
	"\02\014\00\06\02\03\02\00\03\00\03\03\01\06\10\02\03\03\03\05\06\04\06",
/*0x5A = 'Z'*/
	"\01\024\00\05\04\05\00\01\00\00\06\00\06\01\02\01\06\05\06\06\00\06",
/*0x5B = '['*/
	"\01\020\04\00\02\00\02\06\04\06\04\05\03\05\03\01\04\01",
/*0x5C = '\'*/
	"\01\10\00\05\05\00\06\01\01\06",
/*0x5D = ']'*/
	"\01\020\02\00\02\01\03\01\03\05\02\05\02\06\04\06\04\00",
/*0x5E = '^'*/
	"\01\014\00\02\03\06\06\02\05\02\03\05\01\02",
/*0x5F = '_'*/
	"\01\10\00\01\06\01\06\02\00\02",
/*0x60 = '`'*/
	"\01\10\02\04\03\05\03\06\02\06",
/*0x61 = Apple (really 'a')*/
	"\04\06\03\04\03\05\04\06\024\00\02\00\04\01\05\02\05\03\04\04\05\05\05\06\04\05\04\04\02\012\00\02\04\02\04\01\02\00\01\00\014\02\01\04\04\05\02\06\02\05\00\04\00",
/*0x62 = right arrow (really 'b')*/
	"\01\016\00\03\03\00\03\02\06\02\06\04\03\04\03\06",
/*0x63 = left arrow (really 'c')*/
	"\01\016\00\02\00\04\03\04\03\06\06\03\03\00\03\02",
/*0x64 = delta (really 'd')*/
	"\01\06\00\00\03\06\06\00",
/*0x65 = radiation symbol (really 'e')*/
	"\03\06\01\00\05\00\03\03\06\03\03\00\03\01\06\06\03\03\06\03\05\06"

};
/*-----------------------------------------------------------------------*/
int tcount=0;
extern RGBColor black_Color;

drawchar(cnum,ldata,rdata)
char cnum;
int ldata[2],rdata[2];
{
int lr[7];
int l_ud[7],r_ud[7];
int ud[7][7];
int i,j,k;
int left_x,left_y,right_x,right_y;
char *ch;
char cnt;
int x[64],y[64];
int index;
int cc;
RGBColor saveColor;

ColorWall(ldata,rdata);
cnum -= 0x20;
if(cnum<0)cnum=10;
if(cnum>(0x65-0x20))cnum=10;

ch=wallchar[cnum];
if(rdata[0]<ldata[0])
	{
	right_x=ldata[0];
	left_x=rdata[0];
	right_y=ldata[1];
	left_y=rdata[1];
	}
else
	{
	left_x=ldata[0];
	right_x=rdata[0];
	left_y=ldata[1];
	right_y=rdata[1];
	}
split7(lr,left_x,right_x);
split7(l_ud,Height-left_y,left_y);
split7(r_ud,Height-right_y,right_y);
for(i=0;i<7;i++)split7(ud[i],l_ud[i],r_ud[i]);

cnt=2;
cc=c_char0+level-1;
saveColor=cColor[cc].f;
cColor[cc].f=black_Color;
cColor[cc].pattern=WHITE;
for(k=0;k<ch[0];k++)
	{
	index=0;
	for(i=0;i<(ch[cnt-1]);i+=2)
		{
		x[index]=lr[ch[i+cnt]];
		y[index]=ud[ch[i+cnt+1]][ch[i+cnt]];
		index++;
		}
	SuperPoly(cc,index,x,y);
	cnt+=(ch[cnt-1]+1);
	}
cColor[cc].f=saveColor;
}

/*-----------------------------------------------------------------------*/
